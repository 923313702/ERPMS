
@{
    Layout = null;
}
<!--客户对账单print HTML-->
<!DOCTYPE html>
<html lang="en">
<head>
    <link href="~/Content/easyui.css" rel="stylesheet" />
    <style>
        .customer_account {
            overflow: hidden;
            border: 1px solid;
            background: #fefefe;
            border-right: none;
            width: 100%;
        }

            .customer_account th, .customer_account td {
                padding: 7px 5px;
                text-align: center;
            }

            .customer_account th {
                padding-top: 10px;
                text-shadow: 1px 1px 1px #fff;
                border-right: 1px solid;
                background: #e8eaeb;
            }

            .customer_account td {
                border-top: 1px solid;
                border-right: 1px solid;
            }

            .customer_account tr.odd-row td {
                background: #f6f6f6;
            }

            .customer_account td.first, th.first {
                text-align: left
            }

        .customer_accounttd.last {
            border-right: none;
        }

        .customer_account td {
            background: -moz-linear-gradient(100% 25% 90deg, #fefefe, #f9f9f9);
            background: -webkit-gradient(linear, 0% 0%, 0% 25%, from(#f9f9f9), to(#fefefe));
        }

        .customer_account tr.odd-row td {
            background: -moz-linear-gradient(100% 25% 90deg, #f6f6f6, #f1f1f1);
            background: -webkit-gradient(linear, 0% 0%, 0% 25%, from(#f1f1f1), to(#f6f6f6));
        }

        .customer_account th {
            background: -moz-linear-gradient(100% 20% 90deg, #e8eaeb, #ededed);
            background: -webkit-gradient(linear, 0% 0%, 0% 20%, from(#ededed), to(#e8eaeb));
        }
        .kv-table {
            border-right: 1px solid /*#cacaca \9*/;
            *border-right: 1px solid /*#cacaca*/
        }

            .kv-table .kv-table-row {
                border-bottom: 1px solid /*#cacaca*/
            }

                .kv-table .kv-table-row .kv-item {
                    padding-left: 134px
                }

                    .kv-table .kv-table-row .kv-item .kv-label {
                        float: left;
                        padding: 0 10px;
                        margin-left: -134px;
                        width: 112px;
                        background: #f5f5f5;
                        border: 1px solid /*#cacaca*/;
                        border-bottom: none;
                        border-top: none
                    }

                    .kv-table .kv-table-row .kv-item .kv-content-wrap {
                        float: left;
                        width: 100%
                    }

                    .kv-table .kv-table-row .kv-item .kv-content {
                        padding: 10px
                    }

                .kv-table .kv-table-row.col-3 .kv-item-wrap {
                    float: left;
                    width: 33.33%
                }

                .kv-table .kv-table-row.col-2 .kv-item-wrap {
                    float: left;
                    width: 33.33%
                }

        table.kv-table {
            width: 100%
        }

            table.kv-table .kv-label {
                padding: 0 10px;
                width: 114px;
                background: #f5f5f5;
                border: 1px solid /*#cacaca*/;
                border-top: none
            }

            table.kv-table td.kv-content, table.kv-table td.kv-label {
                /*
        height: 29px;
        padding-left: 20px
*/
                height: 22px;
                padding: 5px 0;
                border-bottom: 1px solid /*#cacaca*/;
                font-size: 12px;
                padding-left: 15px
            }

            table.kv-table tr:first-child td.kv-content, table.kv-table tr:first-child td.kv-label {
                border-top: 1px solid /*#cacaca*/
            }

            table.kv-table tr td.kv-content:last-child {
                border-right: 1px solid /*#cacaca*/
            }

            table.kv-table tr .button {
                text-align: center;
                border-radius: 0;
                text-indent: 0;
                height: 32px
            }

            table.kv-table .kv-content {
                /*width: 260px;*/
                padding: 5px 10px
            }

            table.kv-table .textarea-wrap textarea {
                width: 100%
            }

        .kv-table .kv-content .combo, .kv-table .kv-content .textbox, .kv-table .kv-content .datebox {
            border: none;
        }

        .kv-table .kv-content .validatebox-invalid, .kv-table .kv-content .textbox-invalid {
            background-color: #fff;
        }

        #printLogo {
            position: absolute;
        }
        #printProcess {
            height: 30px;
            line-height: 110px;
            font-size: 20px;
            font-weight: bold;
            text-align: center;
        }
        #content {
            max-width: 900px;
            margin: 0 auto;
        }
    </style>
</head>
<body>

    <div id="content">
        <p id="printLogo">
            <img src="~/images/logo.png" />
        </p>

        <p id="printProcess">报价清单</p>
        <div style="height:48px;">

        </div>
        <form id="_accountList_form">
            <table class="kv-table" cellspacing="0">
                <tbody>

                    <tr>
                        <td class="kv-label">客户名称</td>
                        <td class="kv-content">
                            <input class="easyui-combobox" id="_accountList_customer" name="客户编码" />
                        </td>
                        <td class="kv-label">对账日期</td>
                        <td class="kv-content"><input class="easyui-datebox"  name="日期" /></td>
                        <td class="kv-label">对账单号</td>
                        <td class="kv-content"><input class="easyui-textbox" name="对账单号" /></td>
                      
                    </tr>
                    <tr>
                        <td class="kv-label">联系方式</td>
                        <td class="kv-content"><input class="easyui-textbox" id="_accountList_phone" /></td>
                        <td class="kv-label">开始日期</td>
                        <td class="kv-content"><input class="easyui-datebox" name="开始日期" /></td>
                        <td class="kv-label">结束日期</td>
                        <td class="kv-content"><input class="easyui-datebox" name="结束日期" /></td>

                    </tr>

                </tbody>
            </table>
        </form>
        <table cellspacing="0" class="customer_account">
            <thead>
                <tr></tr>
            </thead>
            <tbody></tbody>
        </table>

    </div>
    <script src="~/Scripts/jquery.min.js"></script>
    <script src="~/Scripts/jquery.easyui.min.js"></script>
    <script src="~/Scripts/easyui-lang-zh_CN.js"></script>
    <script type="text/javascript">
        $(function () {

            $('#_accountList_customer').combobox({
                url:'/ERP_Order/GetCustormer2',
                textField: 'Key',
                valueField: 'Id',
                onSelect: function (record) {
                    var phone = record.Phone;
                    $('#_accountList_phone').textbox('setValue', phone);
                }

            })
                $.ajax({
                    type: "post",
                    url: "/ERP_Customer/printData",
                    cache: false,
                    async: false,
                    success: function (response) {
                        var rows = JSON.parse(response);
                        var formData = rows[0];
                        $('#_accountList_form').form('load', formData);
                        for (var i in rows) {
                            delete rows[i]['客户编码']
                            delete rows[i]['日期']
                            delete rows[i]['开始日期']
                            delete rows[i]['结束日期']
                        }
                        var headCol = Object.keys(rows[0]);
                        console.log(headCol);
                        var headHtml = '';
                        for (var i in headCol) {
                            headHtml += '<th>' + headCol[i] + '</th>';
                        }
                        $('.customer_account').append('<thead><tr>'+headHtml+'</tr></thead>');
                        var tbodyHtml = '';
                        for (var i = 0; i < rows.length; i++) {
                            var trHtml = ''
                            for (var j in rows[i]) {
                                trHtml += '<td>' + rows[i][j] + '</td>';
                            }
                            tbodyHtml += '<tr>' + trHtml + '</tr>';
                        }
                        $('.customer_account').append('<tbody>'+tbodyHtml+'</tbody>');
                        window.print();
                    }

                });
                });
      
    </script>
</body>
</html>
